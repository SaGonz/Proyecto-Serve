(this["webpackJsonplista-de-tareas"]=this["webpackJsonplista-de-tareas"]||[]).push([[0],{27:function(e,a,t){e.exports=t(42)},32:function(e,a,t){},33:function(e,a,t){},42:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(22),c=t.n(o),i=(t(32),t(3)),l=t(4),s=t(6),u=t(5),h=t(7),m=(t(33),t(14)),d=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(s.a)(this,Object(u.a)(a).call(this,e))).handleChoice=function(e){var a=e.target.value;console.log("value,",a);var n="";switch(a){case"ui":n="urgente importante";break;case"uni":n="urgente no importante";break;case"nui":n="no urgente importante";break;case"nuni":n="no urgente no importante";break;default:n="urgente importante"}t.setState({categoria:n})},t.addTarea=function(e){var a=t.state.categoria;fetch("http://".concat("localhost",":").concat("4000","/llenar?titulo=").concat(t.state.valor,"&id_categoria=").concat(a)).then(t.props.obtenerTareas()).catch((function(e){return console.error(e)})),console.log("tarea enviada")},t.state={valor:"",fecha_creacion:"",categoria:"",error:""},t.handleChange=t.handleChange.bind(Object(m.a)(t)),t.handleSubmit=t.handleSubmit.bind(Object(m.a)(t)),t}return Object(h.a)(a,e),Object(l.a)(a,[{key:"handleClick",value:function(e){e.target.value=""}},{key:"handleChange",value:function(e){e.preventDefault();e.target.value;e.target.value.length>44?(this.setState({error:""}),this.setState({error:"El campo de tareas no debe estar vac\xedo."})):this.setState({error:""}),e.target.value.length<45?(this.setState({error:""}),this.setState({valor:e.target.value})):this.setState({error:"El t\xedtulo de tu tarea es demasiado largo."})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.addTarea()}},{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("input",{type:"text",value:this.state.valor,onChange:this.handleChange,onClick:this.handleClick}),r.a.createElement("select",{id:"categoria",name:"urgencia",onClick:this.handleChoice,className:"dropdown"},r.a.createElement("option",{value:"ui",defaultValue:!0},"urgente importante"),r.a.createElement("option",{value:"uni"},"urgente no importante"),r.a.createElement("option",{value:"nui"},"no urgente importante"),r.a.createElement("option",{value:"nuni"},"no urgente no importante")),r.a.createElement("input",{type:"submit",className:"boton-envio",value:"Iniciar"}),r.a.createElement("div",{className:"error"},this.state.error))}}]),a}(n.Component),p=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(s.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).handleBorrar=function(e){t.borrarTarea(t.props.idTarea)},t.borrarTarea=function(e){fetch("http://"+process.env.DB_HOST+":4000"+"/borrar?id_tarea=".concat(e)).then(t.callbackPadre).catch((function(e){return console.log(e)}))},t.callbackPadre=function(e){t.props.actualizarRoot()},t}return Object(h.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("button",{className:"boton-borrar",onClick:this.handleBorrar},"x")}}]),a}(n.Component),f=(t(34),function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(s.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).handleClick=function(){fetch("http://".concat("localhost",":").concat("4000","/completar?id_tarea=").concat(t.props.idTarea)).then(t.callbackPadre)},t.callbackPadre=function(){t.props.actualizarRoot()},t}return Object(h.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("input",{className:"boton-completar",type:"checkbox",onClick:this.handleClick,onChange:this.handleChange})}}]),a}(n.Component)),b=t(23),g=t.n(b),v=t(12),E=t.n(v),k=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(t=Object(s.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(o)))).renderTareas=function(){return t.props.listaDeTareas.map((function(e){var a=e.id_tarea,n=e.titulo,o=e.id_categoria,c=e.fecha_creacion;return r.a.createElement("label",{className:"tarea",key:a},r.a.createElement(f,{idTarea:a,actualizarRoot:t.props.actualizarRoot}),n,r.a.createElement("button",{className:"fecha"},o),r.a.createElement("button",{className:"fecha"},r.a.createElement(g.a,{format:"DD-MM-YY LT"},c)),r.a.createElement(p,{idTarea:a,actualizarRoot:t.props.actualizarRoot}))}))},t}return Object(h.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(d,{listaDeTareas:this.props.listaDeTareas,obtenerTareas:this.props.obtenerTareas}),r.a.createElement("div",{className:"tareas-container"},0===this.props.listaDeTareas.length&&r.a.createElement("div",{className:"tarea"},"M\xe1rcate un prop\xf3sito"),this.renderTareas()))}}]),a}(n.Component),T=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(t=Object(s.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(o)))).state={tareas:[],id_tarea:null,titulo:null,fecha_creacion:null,fecha_finalizacion:null},t.getTareasCompletadas=function(e){fetch("http://"+process.env.DB_HOST+":"+process.env.S_PORT+"/api/completadas").then((function(e){return e.json()})).then((function(e){return t.setState({tareas:e.data})})).catch((function(e){return console.log(e)})),console.log("getTareasCompletadas",t.state.tareas)},t.getTiempoTranscurrido=function(e,a){var t=E()(e),n=E()(a);return n.diff(t,"minutes")>59?n.diff(t,"hours")>24?n.diff(t,"days")+" d\xedas":n.diff(t,"hours")+" horas":n.diff(t,"minutes")+" minutos"},t.renderTareas=function(){return t.state.tareas.map((function(e){var a=e.id_tarea,n=e.titulo,o=e.fecha_creacion,c=e.fecha_finalizacion;return r.a.createElement("label",{className:"tarea",key:a},n,r.a.createElement("button",{className:"fecha"},"(",t.getTiempoTranscurrido(o,c),")"))}))},t}return Object(h.a)(a,e),Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getTareasCompletadas()}},{key:"render",value:function(){return r.a.createElement("div",{className:"tareas-container"},0===this.state.tareas.length&&r.a.createElement("div",{className:"tarea"}," A\xfan no completaste ninguna tarea"),this.renderTareas())}}]),a}(n.Component),j=t(15),O=t(10),y=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(s.a)(this,Object(u.a)(a).call(this,e))).getTareas=function(e){fetch("http://"+process.env.DB_HOST+":"+process.env.S_PORT+"/api/tareas").then((function(e){return e.json()})).then((function(e){return t.setState({tareas:e.data})})).catch((function(e){return console.log(e)})),console.log("getTareas a endpoint")},t.actualizarRoot=function(e){t.getTareas()},t.state={tareas:[],tarea:{titulo:"",fecha_creacion:null,estado:"",categoria:""}},t}return Object(h.a)(a,e),Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getTareas(),document.title="Lista de tareas"}},{key:"render",value:function(){var e=this.state;e.tareas,e.tarea;return r.a.createElement(j.a,null,r.a.createElement("div",{className:"link-container"},r.a.createElement("li",{className:"link"},r.a.createElement(j.b,{to:"/"},"INICIO")),r.a.createElement("li",{className:"link"},r.a.createElement(j.b,{to:"/completadas",style:{textDecoration:"none"}},"TAREAS COMPLETADAS"))),r.a.createElement(O.c,null,r.a.createElement(O.a,{exact:!0,path:"/"},r.a.createElement("div",{className:"App",style:{backgroundColor:"#"+Math.random().toString(16).slice(2,8)}},r.a.createElement(k,{listaDeTareas:this.state.tareas,obtenerTareas:this.getTareas,actualizarRoot:this.actualizarRoot}))),r.a.createElement(O.a,{path:"/completadas"},r.a.createElement("div",{className:"App",style:{backgroundColor:"#"+Math.random().toString(16).slice(2,8)}},r.a.createElement(T,null)))))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(y,{className:"root"}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[27,1,2]]]);
//# sourceMappingURL=main.4aaba121.chunk.js.map