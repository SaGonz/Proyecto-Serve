(this["webpackJsonplista-de-tareas"]=this["webpackJsonplista-de-tareas"]||[]).push([[0],{27:function(e,a,t){e.exports=t(41)},32:function(e,a,t){},33:function(e,a,t){},41:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),o=t(22),c=t.n(o),i=(t(32),t(3)),l=t(4),s=t(6),u=t(5),h=t(7),m=(t(33),t(14)),d=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(s.a)(this,Object(u.a)(a).call(this,e))).handleChoice=function(e){var a=e.target.value;console.log("value,",a);var r="";switch(a){case"ui":r="urgente importante";break;case"uni":r="urgente no importante";break;case"nui":r="no urgente importante";break;case"nuni":r="no urgente no importante";break;default:r="urgente importante"}t.setState({categoria:r})},t.addTarea=function(e){var a=t.state.categoria;fetch("http://".concat("localhost:4000","/llenar?titulo=").concat(t.state.valor,"&id_categoria=").concat(a)).then(t.props.obtenerTareas()).catch((function(e){return console.error(e)})),console.log("tarea enviada")},t.state={valor:"",fecha_creacion:"",categoria:"",error:""},t.handleChange=t.handleChange.bind(Object(m.a)(t)),t.handleSubmit=t.handleSubmit.bind(Object(m.a)(t)),t}return Object(h.a)(a,e),Object(l.a)(a,[{key:"handleClick",value:function(e){e.target.value=""}},{key:"handleChange",value:function(e){e.preventDefault(),e.target.value.length<45?(this.setState({error:""}),this.setState({valor:e.target.value})):this.setState({error:"El t\xedtulo de tu tarea es demasiado largo."})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.addTarea()}},{key:"render",value:function(){return n.a.createElement("form",{onSubmit:this.handleSubmit},n.a.createElement("input",{type:"text",pattern:"\\/\\:\\&\\'\\$\\=",value:this.state.valor,onChange:this.handleChange,onClick:this.handleClick}),n.a.createElement("select",{id:"categoria",name:"urgencia",onClick:this.handleChoice,className:"dropdown"},n.a.createElement("option",{value:"ui",defaultValue:!0},"urgente importante"),n.a.createElement("option",{value:"uni"},"urgente no importante"),n.a.createElement("option",{value:"nui"},"no urgente importante"),n.a.createElement("option",{value:"nuni"},"no urgente no importante")),n.a.createElement("input",{type:"submit",className:"boton-envio",value:"Iniciar"}),n.a.createElement("div",{className:"error"},this.state.error))}}]),a}(r.Component),f=function(e){function a(){var e,t;Object(i.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=Object(s.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(n)))).handleBorrar=function(e){t.borrarTarea(t.props.idTarea)},t.borrarTarea=function(e){fetch("http://localhost:4000"+"/borrar?id_tarea=".concat(e)).then(t.callbackPadre).catch((function(e){return console.log(e)}))},t.callbackPadre=function(e){t.props.refreshDataFromServer()},t}return Object(h.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){return n.a.createElement("button",{className:"boton-borrar",onClick:this.handleBorrar},"x")}}]),a}(r.Component),p=t(23),v=function(e){function a(){var e,t;Object(i.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=Object(s.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(n)))).handleClick=function(){fetch("http://".concat("localhost:4000","/completar?id_tarea=").concat(t.props.idTarea)).then(t.callbackPadre),Object(p.a)("./../sounds/256112__nckn__pleasant-done-notification.mp3")},t.callbackPadre=function(){t.props.refreshDataFromServer()},t}return Object(h.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){return n.a.createElement("input",{className:"boton-completar",type:"checkbox",onClick:this.handleClick,onChange:this.handleChange})}}]),a}(r.Component),b=t(15),g=t.n(b),E=function(e){var a=e.id_tarea,t=e.titulo,r=e.id_categoria,o=e.fecha_creacion,c=e.refreshDataFromServer,i=g()(o).format("DD-MM-YY LT");return n.a.createElement("label",{className:"tarea",key:a},n.a.createElement(v,{idTarea:a,refreshDataFromServer:c}),t,n.a.createElement("button",{className:"fecha"},r),n.a.createElement("button",{className:"fecha"},i),n.a.createElement(f,{idTarea:a,refreshDataFromServer:c}))},k=t(12),y=t.n(k),T=function(e){function a(){var e,t;Object(i.a)(this,a);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(t=Object(s.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(o)))).findCategories=function(e){var a=new Set;return e.forEach((function(e){a.add(e.id_categoria)})),a},t.orderTasksByCategory=function(e){var a=t.findCategories(e),r={},n=!0,o=!1,c=void 0;try{for(var i,l=function(){var a=i.value;r[a]=e.filter((function(e){return e.id_categoria===a}))},s=a[Symbol.iterator]();!(n=(i=s.next()).done);n=!0)l()}catch(u){o=!0,c=u}finally{try{n||null==s.return||s.return()}finally{if(o)throw c}}return r},t.renderTareas=function(){return console.log(t.orderTasksByCategory(t.props.listaDeTareas)),t.props.listaDeTareas.map((function(e){return n.a.createElement(E,Object.assign({},e,{refreshDataFromServer:t.props.refreshDataFromServer}))}))},t}return Object(h.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(d,{listaDeTareas:this.props.listaDeTareas,obtenerTareas:this.props.obtenerTareas}),n.a.createElement("div",{className:"tareas-container"},0===this.props.listaDeTareas.length&&n.a.createElement("div",{className:"tarea"},"M\xe1rcate un prop\xf3sito"),this.renderTareas()))}}]),a}(r.Component),j=function(e){function a(){var e,t;Object(i.a)(this,a);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(t=Object(s.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(o)))).state={tareas:[],id_tarea:null,titulo:null,fecha_creacion:null,fecha_finalizacion:null},t.getTareasCompletadas=function(e){fetch("http://localhost:4000/api/completadas").then((function(e){return e.json()})).then((function(e){return t.setState({tareas:e.data})})).catch((function(e){return console.log(e)})),console.log("getTareasCompletadas",t.state.tareas)},t.getTiempoTranscurrido=function(e,a){var t=y()(e),r=y()(a);return r.diff(t,"minutes")>59?r.diff(t,"hours")>24?r.diff(t,"days")+" d\xedas":r.diff(t,"hours")+" horas":r.diff(t,"minutes")+" minutos"},t.renderTareas=function(){return t.state.tareas.map((function(e){var a=e.id_tarea,r=e.titulo,o=e.fecha_creacion,c=e.fecha_finalizacion;return n.a.createElement("label",{className:"tarea",key:a},r,n.a.createElement("button",{className:"fecha"},"(",t.getTiempoTranscurrido(o,c),")"))}))},t}return Object(h.a)(a,e),Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getTareasCompletadas()}},{key:"render",value:function(){return n.a.createElement("div",{className:"tareas-container"},0===this.state.tareas.length&&n.a.createElement("div",{className:"tarea"}," A\xfan no completaste ninguna tarea"),this.renderTareas())}}]),a}(r.Component),O=t(16),C=t(10),S=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(s.a)(this,Object(u.a)(a).call(this,e))).getTareas=function(e){fetch("http://localhost:4000/api/tareas").then((function(e){return e.json()})).then((function(e){return t.setState({tareas:e.data})})).catch((function(e){return console.log(e)})),console.log("getTareas a endpoint")},t.refreshDataFromServer=function(e){t.getTareas()},t.state={tareas:[],tarea:{titulo:"",fecha_creacion:null,estado:"",categoria:""}},t}return Object(h.a)(a,e),Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getTareas(),document.title="Lista de tareas"}},{key:"render",value:function(){var e=this.state;e.tareas,e.tarea;return n.a.createElement(O.a,null,n.a.createElement("div",{className:"link-container"},n.a.createElement("li",{className:"link"},n.a.createElement(O.b,{to:"/"},"INICIO")),n.a.createElement("li",{className:"link"},n.a.createElement(O.b,{to:"/completadas",style:{textDecoration:"none"}},"TAREAS COMPLETADAS"))),n.a.createElement(C.c,null,n.a.createElement(C.a,{exact:!0,path:"/"},n.a.createElement("div",{className:"App",style:{backgroundColor:"#"+Math.random().toString(16).slice(2,8)}},n.a.createElement(T,{listaDeTareas:this.state.tareas,obtenerTareas:this.getTareas,refreshDataFromServer:this.refreshDataFromServer}))),n.a.createElement(C.a,{path:"/completadas"},n.a.createElement("div",{className:"App",style:{backgroundColor:"#"+Math.random().toString(16).slice(2,8)}},n.a.createElement(j,null)))))}}]),a}(n.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(S,{className:"root"}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[27,1,2]]]);
//# sourceMappingURL=main.68650b9d.chunk.js.map