(this["webpackJsonplista-de-tareas"]=this["webpackJsonplista-de-tareas"]||[]).push([[0],{27:function(e,a,t){e.exports=t(42)},32:function(e,a,t){},33:function(e,a,t){},42:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(22),c=t.n(o),l=(t(32),t(3)),i=t(4),s=t(6),u=t(5),h=t(7),d=(t(33),t(13)),m=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(s.a)(this,Object(u.a)(a).call(this,e))).addTarea=function(e){fetch("http://localhost:4000"+"/llenar?titulo=".concat(t.state.valor)).then(t.props.obtenerTareas()).catch((function(e){return console.error(e)})),console.log("tarea enviada")},t.state={valor:"",fecha_creacion:""},t.handleChange=t.handleChange.bind(Object(d.a)(t)),t.handleSubmit=t.handleSubmit.bind(Object(d.a)(t)),t}return Object(h.a)(a,e),Object(i.a)(a,[{key:"handleChange",value:function(e){this.setState({valor:e.target.value}),console.log(e.target.value)}},{key:"handleSubmit",value:function(e){e.preventDefault(),console.log("enviar"),this.addTarea()}},{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("input",{type:"text",value:this.state.valor,onChange:this.handleChange}),r.a.createElement("input",{type:"submit",className:"boton-envio",value:"Iniciar"}))}}]),a}(n.Component),p=function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(s.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).handleBorrar=function(e){console.log("quieres borrar desde cliente",t.props.idTarea),t.borrarTarea(t.props.idTarea)},t.borrarTarea=function(e){console.log("borrartareapeticion hit",e),fetch("http://localhost:4000"+"/borrar?id_tarea=".concat(e)).then(t.callbackPadre).catch((function(e){return console.log(e)}))},t.callbackPadre=function(e){t.props.actualizarRoot()},t}return Object(h.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("button",{className:"boton-borrar",onClick:this.handleBorrar},"x")}}]),a}(n.Component),f=(t(34),function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(s.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).handleClick=function(){console.log("has decidido completar una tarea",t.props.idTarea),fetch("http://localhost:4000"+"/completar?id_tarea=".concat(t.props.idTarea)).then(t.callbackPadre),console.log("has mandado la petici\xf3n")},t.handleChange=function(){},t.callbackPadre=function(){t.props.actualizarRoot()},t}return Object(h.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("input",{className:"boton-completar",type:"checkbox",onClick:this.handleClick,onChange:this.handleChange})}}]),a}(n.Component)),b=t(23),g=t.n(b),v=(t(20),function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(t=Object(s.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(o)))).renderTareas=function(){return t.props.listaDeTareas.map((function(e){var a=e.id_tarea,n=e.titulo,o=e.fecha_creacion;return r.a.createElement("label",{className:"tarea",key:a},r.a.createElement(f,{idTarea:a,actualizarRoot:t.props.actualizarRoot}),n,r.a.createElement("button",{className:"fecha"},r.a.createElement(g.a,{format:"DD-MM-YY LT"},o)),r.a.createElement(p,{idTarea:a,actualizarRoot:t.props.actualizarRoot}))}))},t}return Object(h.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(m,{listaDeTareas:this.props.listaDeTareas,obtenerTareas:this.props.obtenerTareas}),r.a.createElement("div",{className:"tareas-container"},0===this.props.listaDeTareas.length&&r.a.createElement("div",{className:"tarea"},"M\xe1rcate un prop\xf3sito"),this.renderTareas()))}}]),a}(n.Component)),j=function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(t=Object(s.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(o)))).state={tareas:[],id_tarea:null,titulo:null,fecha_creacion:null,fecha_finalizacion:null},t.getTareasCompletadas=function(e){fetch("http://localhost:4000/r-completadas").then((function(e){return e.json()})).then((function(e){return t.setState({tareas:e.data})})).catch((function(e){return console.log(e)})),console.log("getTareasCompletadas",t.state.tareas)},t.handleClick=function(e){console.log("click a completadas")},t.renderTareas=function(){return t.state.tareas.map((function(e){var a=e.id_tareas,t=e.titulo,n=e.fecha_creacion,o=e.fecha_finalizacion;return r.a.createElement("div",{className:"tarea",key:a},t," (",n.diff(o,"days",!0)," d\xedas)")}))},t}return Object(h.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getTareasCompletadas()}},{key:"render",value:function(){return r.a.createElement("div",null,0===this.state.tareas.length&&"A\xfan no completaste ninguna tarea",this.renderTareas())}}]),a}(n.Component),T=t(14),k=t(10),O=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(s.a)(this,Object(u.a)(a).call(this,e))).getTareas=function(e){fetch("http://localhost:4000/tareas").then((function(e){return e.json()})).then((function(e){return t.setState({tareas:e.data})})).catch((function(e){return console.log(e)})),console.log("getTareas a endpoint")},t.actualizarRoot=function(e){t.getTareas()},t.state={tareas:[],tarea:{titulo:"",fecha_creacion:null,estado:"",categoria:""}},t}return Object(h.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getTareas()}},{key:"render",value:function(){var e=this.state;e.tareas,e.tarea;return r.a.createElement(T.a,null,r.a.createElement("div",{className:"link-container"},r.a.createElement("li",{className:"link"},r.a.createElement(T.b,{to:"/"},"Inicio")),r.a.createElement("li",{className:"link"},r.a.createElement(T.b,{to:"/completas",style:{textDecoration:"none"}},"Tareas completadas"))),r.a.createElement(k.c,null,r.a.createElement(k.a,{Path:"/"},r.a.createElement("div",{className:"App",style:{backgroundColor:"#"+Math.random().toString(16).slice(2,8)}},r.a.createElement(v,{listaDeTareas:this.state.tareas,obtenerTareas:this.getTareas,actualizarRoot:this.actualizarRoot}))),r.a.createElement(k.a,{Path:"/r-completadas"},r.a.createElement("div",{className:"App",style:{backgroundColor:"#"+Math.random().toString(16).slice(2,8)}},r.a.createElement(j,null)))))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[27,1,2]]]);
//# sourceMappingURL=main.803e7e3d.chunk.js.map